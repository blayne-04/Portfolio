---
interface CertificationItem {
  label: string;
  name: string;
  href?: string;
}

interface Props {
  items: CertificationItem[];
}

const { items } = Astro.props;
---
<section class="card certifications">
  <h2 class="card-title">
    <span class="card-title-icon" aria-hidden="true">
      <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><g fill="none"><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M18 10a4 4 0 0 1 3 6.646v4.192a1.1 1.1 0 0 1-1.592.984L18 21.118l-1.408.704A1.1 1.1 0 0 1 15 20.838v-4.192A4 4 0 0 1 18 10m2-6a2 2 0 0 1 2 2v2a1 1 0 1 1-2 0V6H4v12h8a1 1 0 1 1 0 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm-1 13.874a4 4 0 0 1-2 0v1.508l.553-.276a1 1 0 0 1 .894 0l.553.276zM18 12a2 2 0 1 0 0 4a2 2 0 0 0 0-4m-9 1a1 1 0 0 1 .117 1.993L9 15H7a1 1 0 0 1-.117-1.993L7 13zm4-4a1 1 0 1 1 0 2H7a1 1 0 1 1 0-2z"/></g></svg>
    </span>
    <span>Certifications</span>
  </h2>
  <div class="cert-list" role="list">
    {items.map((item) => (
      <div class={`cert-row${item.href ? ' cert-row--interactive' : ''}`} role="listitem">
        {item.href ? (
          <button
            class="cert-link"
            type="button"
            data-cert-trigger
            data-cert-src={item.href}
            data-cert-label={item.name}
          >
            <span>{item.name}</span>
            <span class="cert-link__icon" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="m13.172 12l-4.95-4.95l1.414-1.414L16 12l-6.364 6.364l-1.414-1.414z"/></svg>
            </span>
          </button>
        ) : (
          <span class="cert-label">{item.name}</span>
        )}
      </div>
    ))}
  </div>
</section>

<dialog class="cert-modal" id="certModal" aria-labelledby="certModalTitle">
  <div class="cert-modal__content">
    <header class="cert-modal__header">
      <h3 class="cert-modal__title" id="certModalTitle">AST-2 GHC 2025</h3>
      <button type="button" class="cert-modal__close" data-cert-close aria-label="Close certification preview">
        <span aria-hidden="true">&times;</span>
      </button>
    </header>
    <div class="cert-modal__body">
      <iframe class="cert-modal__frame" title="Certification preview" loading="lazy" hidden></iframe>
      <p class="cert-modal__placeholder" data-cert-placeholder>
        Add your diploma PDF path to the certification item to preview it here.
      </p>
    </div>
  </div>
</dialog>
